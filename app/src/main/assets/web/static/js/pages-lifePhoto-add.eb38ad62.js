(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-lifePhoto-add"],{"06c5":function(t,e,i){"use strict";i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(i("6b75"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(t){if("string"===typeof t)return(0,a.default)(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,a.default)(t,e):void 0}}},2909:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var a=r(i("6005")),n=r(i("db90")),o=r(i("06c5")),s=r(i("3427"));function r(t){return t&&t.__esModule?t:{default:t}}function d(t){return(0,a.default)(t)||(0,n.default)(t)||(0,o.default)(t)||(0,s.default)()}},"2aec":function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5530")),o=a(i("2909")),s=a(i("bc81")),r=i("6214"),d=i("6b98"),l={data:function(){return{imgList:[],numIndicator:0,content:"",location:"",disabled:!1}},methods:{check:function(){this.disabled=this.imgList.length>0&&this.content.length>0&&this.location.length>0},getAddress:function(t){this.location=t.target.value,this.check()},handleLifePhotoContent:function(t){this.numIndicator=t.target.value.length,this.content=t.target.value,this.check()},handleDel:function(t){this.ImageArray;var e=this.imgList;e.splice(t,1),this.imgList=(0,o.default)(e),this.check()},handleImg:function(t){var e=9-t,i=this;uni.chooseImage({count:e,sizeType:["compressed"],success:function(t){console.log(t.tempFilePaths);for(var e=0;e<t.tempFilePaths.length;e++){var a=t.tempFilePaths;uni.uploadFile({url:"".concat((0,r.getUrl)(),"/basis-member/file/upload"),filePath:a[e],name:"file",fileType:"image",header:{Authorization:"Bearer "+(0,d.getProperties)("accessToken")},formData:{user:"test"},success:function(t){var e=JSON.parse(t.data).data.url;i.imgList=i.imgList.concat([e]),i.check()}})}},fail:function(t){uni.showToast({icon:"none",title:"上传失败，请重试"}),this.check()}})},submit:function(){if(0==this.content.length)uni.showToast({title:"请输入内容！"});else if(0==this.location.length)uni.showToast({title:"请输入发生地点！"});else if(0==this.imgList.length)uni.showToast({title:"请上传照片！"});else{var t={};t={communityCode:uni.getStorageSync("communityCode"),location:this.location,patContent:this.content,patImages:this.imgList,thirdPlatform:"WX"},s.default.patCreate((0,n.default)({},t)).then((function(t){uni.navigateBack(),uni.showToast({title:"添加成功,请耐心等待审核！"})}))}}}};e.default=l},3427:function(t,e,i){"use strict";function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},6005:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(i("6b75"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t))return(0,a.default)(t)}},"6b75":function(t,e,i){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"977f":function(t,e,i){var a=i("e234");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("d5f3dbbe",a,!0,{sourceMap:!1,shadowMode:!1})},a6b0:function(t,e,i){"use strict";var a=i("977f"),n=i.n(a);n.a},d2b5:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"baseLayout"},[i("v-uni-view",{staticClass:"text-area"},[i("v-uni-view",{staticClass:"uni-textarea"},[i("v-uni-textarea",{staticClass:"textarea",attrs:{name:"lifePhotoContent","placeholder-class":"placeholder",placeholder:"请输入你要提交的随手拍内容",maxlength:"100"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleLifePhotoContent.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"numIndicator"},[t._v(t._s(t.numIndicator+"/100"))]),i("v-uni-view",{staticClass:"line"}),i("v-uni-view",{staticClass:"add-img"},[t._l(t.imgList,(function(e,a){return i("v-uni-view",{key:e,staticClass:"upload-img img-view",style:{background:"url("+e+")",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"}},[i("v-uni-image",{staticClass:"img-del",attrs:{src:"/static/image/lifePay/img-del.png",mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleDel(a)}}})],1)})),t.imgList.length<9?i("v-uni-image",{staticClass:"upload-img",attrs:{src:"/static/image/lifePay/upload-img.png",mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleImg(t.imgList.length)}}}):t._e()],2),i("v-uni-view",{staticClass:"upload-lable"},[t._v("最多可上传9张照片")]),i("v-uni-view",{staticClass:"addressLayout"},[i("v-uni-view",{staticClass:"label"},[t._v("发生地点")]),i("v-uni-input",{staticClass:"uni-input",attrs:{name:"phone","placeholder-class":"placeholder",placeholder:"请输入",maxlength:"20"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.getAddress.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"emptyLayout"}),i("v-uni-view",{staticClass:"submitLayout"},[i("v-uni-view",{staticClass:"line1"}),t.disabled?i("v-uni-view",{staticClass:"submit"},[i("v-uni-view",{staticClass:"submitButton",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1):t._e(),t.disabled?t._e():i("v-uni-view",{staticClass:"submit"},[i("v-uni-view",{staticClass:"footer-btn-disabled"},[t._v("提交")])],1)],1)],1)},o=[]},db90:function(t,e,i){"use strict";function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},e234:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'uni-page-body[data-v-f9145e4e]{background:#f7f7f7}.textarea[data-v-f9145e4e]{width:100%;font-size:%?32?%;height:%?250?%;background:#fff}.text-area[data-v-f9145e4e]{padding:%?32?%;background:#fff}.line[data-v-f9145e4e]{height:.5px;background:#e1e1e1;margin-left:%?32?%}.add-img[data-v-f9145e4e]{background:#fff;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:%?32?% %?32?% %?8?% %?32?%}.footer-btn-disabled[data-v-f9145e4e]{text-align:center;background:#fcceba;-webkit-border-radius:%?8?%;border-radius:%?8?%;font-size:%?36?%;font-weight:400;line-height:%?104?%;color:#fff}.upload-img[data-v-f9145e4e]{margin-bottom:%?12?%;width:32%;height:%?218?%;position:relative;-webkit-border-radius:%?8?%;border-radius:%?8?%}.add-img[data-v-f9145e4e]::after{width:32%;content:""}.img-del[data-v-f9145e4e]{position:absolute;width:%?32?%;height:%?32?%;top:%?12?%;right:%?12?%}.upload-lable[data-v-f9145e4e]{font-size:%?24?%;line-height:%?33?%;padding-left:%?24?%;padding-right:%?24?%;padding-bottom:%?24?%;color:#666;background-color:#fff}.addressLayout[data-v-f9145e4e]{height:%?104?%;margin-top:%?24?%;background:#fff;padding-left:%?32?%;padding-right:%?32?%;line-height:%?104?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.label[data-v-f9145e4e]{font-size:%?32?%;font-weight:400;color:#222;-webkit-flex-shrink:0;flex-shrink:0}.placeholder[data-v-f9145e4e]{color:#999;font-size:%?32?%}.uni-input[data-v-f9145e4e]{font-size:%?32?%;text-align:right;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}.submitLayout[data-v-f9145e4e]{position:fixed;width:100vw;bottom:0;height:%?130?%;background:#fff}.submit[data-v-f9145e4e]{height:%?125?%;padding-top:%?12?%;padding-bottom:%?12?%;padding-left:%?32?%;padding-right:%?32?%}.line1[data-v-f9145e4e]{width:100vw;height:1px;background:#e1e1e1}.submitButton[data-v-f9145e4e]{text-align:center;background:-webkit-linear-gradient(321deg,#f35c1d,#ff9069);background:linear-gradient(129deg,#f35c1d,#ff9069);-webkit-border-radius:%?8?%;border-radius:%?8?%;font-size:%?36?%;font-weight:400;line-height:%?104?%;color:#fff}.emptyLayout[data-v-f9145e4e]{height:%?150?%}.numIndicator[data-v-f9145e4e]{padding:%?32?%;font-size:%?24?%;font-weight:400;line-height:%?33?%;background:#fff;text-align:right;color:#666}body.?%PAGE?%[data-v-f9145e4e]{background:#f7f7f7}',""]),t.exports=e},e84e:function(t,e,i){"use strict";i.r(e);var a=i("d2b5"),n=i("ed38");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("a6b0");var s,r=i("f0c5"),d=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"f9145e4e",null,!1,a["a"],s);e["default"]=d.exports},ed38:function(t,e,i){"use strict";i.r(e);var a=i("2aec"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a}}]);